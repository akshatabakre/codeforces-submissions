/*Template Author - Akshata*/#include<bits/stdc++.h>using namespace std;#define int long long const int maxN = 1000001;int spf[maxN]; void pre(){for(int i=0;i<maxN;i++)spf[i]=i;for(int i=2;i*i<maxN;i++)if(spf[i]==i)for(int j=i*i;j<maxN;j+=i)if(spf[j]==j)spf[j]=i;}void inparr(vector<int>&a,int n){for(int i=0;i<n;i++)cin>>a[i];} bool check(int mid,vector<int>&x,vector<int>&v){    for(int i=0;i<x.size();i++){        if(x[i]!=v[i] && x.back()<x[i]+mid && x[0]>x[i]-mid){            return false;        }    }    return true;}void solve(){    int n;    cin>>n;    vector<int> v(n);    inparr(v,n);    vector<int> x = v;    sort(x.begin(),x.end());    int ans = -1;    if(x==v){cout<<ans<<endl;return;}    int s = 1, e = x.back()-x[0];    while(s<=e){        int mid = s+(e-s)/2;        if(check(mid,x,v)){            ans = mid;            s = mid+1;        }else{            e = mid-1;        }    }    cout<<ans<<endl;} int32_t main(){ios_base::sync_with_stdio(false);cin.tie(NULL);// pre(); // Uncomment for Sieveint t=1;cin>>t;while(t--)solve();return 0;}